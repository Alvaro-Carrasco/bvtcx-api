<?xml version="1.0"?>
<doc xmlns:tcx="http://www.3cx.com">
  <header>
    <type>gateway-template</type>
    <version>145775</version>
    <time>2016-01-21 09:30:00</time>
    <name>Patton Analog FXO</name>
    <url>http://www.patton.com</url>
    <image>patton.png</image>
    <description>Multiport Analog FXO</description>
  </header>
  <data>
    <device>
      <type>gateway</type>
	  
	  <variable name="%%gateway_mask%%">
		<title>Device Subnet Mask</title>
		<info>Please specify the subnet mask for the device for provisioning purposes:</info>
		<option name="Subnet Mask" type="textbox" validation="subnet_mask"></option>
      </variable>

	<variable name="%%tone_set_data%%">
        <title>Tone Set Selection</title>
        <info>Select Country for Tone Sets</info>
        <option name="Country">
          <value name="Argentina">ToneSet_AR</value>
          <value name="Australia">ToneSet_AU</value>
          <value name="Austria 420Hz">ToneSet_AT420</value>
          <value name="Austria 450Hz">ToneSet_AT450</value>
          <value name="Belgium">ToneSet_BE</value>
          <value name="Brazil">ToneSet_BR</value>
          <value name="Cyprus">ToneSet_CY</value>
          <value name="Czech Republic">ToneSet_CZ</value>
          <value name="Denmark">ToneSet_DK</value>
          <value name="Finland">ToneSet_FI</value>
          <value name="France">ToneSet_FR</value>
          <value name="Germany">ToneSet_DE</value>
          <value name="Greece">ToneSet_GR</value>
          <value name="Holland">ToneSet_NL</value>
          <value name="India">ToneSet_IN</value>
          <value name="Ireland">ToneSet_IE</value>
          <value name="Italy">ToneSet_IT</value>
          <value name="Japan">ToneSet_JP</value>
          <value name="Mexico">ToneSet_MX</value>
          <value name="New Zealand">ToneSet_NZ</value>
          <value name="Norway">ToneSet_NO</value>
          <value name="Poland">ToneSet_PL</value>
          <value name="Portugal">ToneSet_PT</value>
          <value name="Russia">ToneSet_RU</value>
          <value name="South Africa">ToneSet_ZA</value>
          <value name="Spain">ToneSet_ES</value>
          <value name="Sweden">ToneSet_SE</value>
          <value name="Switzerland">ToneSet_CH</value>
          <value name="Turkey">ToneSet_TR</value>
          <value name="United Kingdom">ToneSet_UK</value>
          <value name="United States">ToneSet_US</value>
        </option>

        <result name="ToneSet_AR">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 -6

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -13
  pause 2 4000
  
profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 300 425 -7
  pause 2 200

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 300 425 -7
  pause 2 400

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 300 425 -7
  pause 2 400
  </result>
        <result name="ToneSet_AU">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 -6 450 -6

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 400 425 -13 450 -13
  pause 2 200
  play 1 400 425 -13 450 -13
  pause 2 2000
  
profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 375 425 -7
  pause 2 375

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 375 425 -7
  pause 2 375

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 375 425 -7
  pause 2 375
        </result>
        <result name="ToneSet_AT420">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 420 -6

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 420 -13
  pause 2 5000
  
profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 400 420 -7
  pause 2 400

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 200 420 -7
  pause 2 200

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 200 420 -7
  pause 2 200
        </result>
        <result name="ToneSet_AT450">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 450 -6

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 450 -13
  pause 2 5000
  
profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 300 450 -7
  pause 2 300

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 300 450 -7
  pause 2 300

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 300 450 -7
  pause 2 300
        </result>
        <result name="ToneSet_BE">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 0

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -7
  pause 2 3000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 425 -7
  pause 2 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 170 425 -7
  pause 2 170

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 170 425 -7
  pause 2 170
        </result>
        <result name="ToneSet_BR">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 -6

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -7
  pause 2 4000
  
profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 250 425 -7
  pause 2 250

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 250 425 -7
  pause 2 250

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 250 425 -7
  pause 2 250
		</result>
        <result name="ToneSet_CY">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 350 -6 450 -6

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1500 425 -13
  pause 2 3000
  
profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 425 -7
  pause 2 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 250 425 -7
  pause 2 250

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 250 425 -7
  pause 2 250
        </result>
        <result name="ToneSet_CZ">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 330 425 -6
  pause 2 330
  play 3 660 425 -6
  pause 4 660
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -13
  pause 2 4000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 330 425 -7
  pause 2 330

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 165 425 -7
  pause 2 165

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 165 425 -7
  pause 2 165
		</result>
        <result name="ToneSet_DK">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 -6
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -7
  pause 2 4000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 250 425 -7
  pause 2 250

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 250 425 -7
  pause 2 250

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 250 425 -7
  pause 2 250
		</result>
        <result name="ToneSet_FI">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 -6
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -7
  pause 2 4000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 300 425 -7
  pause 2 300

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 200 425 -7
  pause 2 200

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 200 425 -7
  pause 2 200
		</result>
        <result name="ToneSet_FR">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 440 0

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1500 440 -7
  pause 2 3500

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 440 -7
  pause 2 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 250 425 -7
  pause 2 250

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 250 425 -7
  pause 2 250
        </result>
        <result name="ToneSet_DE">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 0

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -7
  pause 2 4000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 480 425 -7
  pause 2 480

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 240 425 -7
  pause 2 240

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 240 425 -7
  pause 2 240
        </result>
        <result name="ToneSet_GR">
profile call-progress-tone defaultDialtone
  play 1 200 425 0
  pause 2 300
  play 3 700 425 0
  pause 4 800

profile call-progress-tone defaultBusytone
  play 1 300 425 -7
  pause 2 300

profile call-progress-tone defaultReleasetone
  play 1 150 425 -7
  pause 2 150

profile call-progress-tone defaultCongestiontone
  play 1 150 425 -7
  pause 2 150
		</result>
        <result name="ToneSet_NL">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 0

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -7
  pause 2 4000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 425 -7
  pause 2 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 250 425 -7
  pause 2 250

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 250 425 -7
  pause 2 250
        </result>
        <result name="ToneSet_IN">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 -6
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 400 400 -13
  pause 2 200
  play 3 400 400 -13
  pause 4 2000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 750 400 -7
  pause 2 750

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 250 400 -7
  pause 2 250

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 250 400 -7
  pause 2 250
		</result>
        <result name="ToneSet_IE">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 400 -6
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 400 400 -6
  pause 2 200
  play 3 400 400 -6
  pause 4 2000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 425 -6
  pause 2 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 500 425 -6
  pause 2 500

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 500 425 -6
  pause 2 500
		</result>
        <result name="ToneSet_IT">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 200 425 0
  pause 2 200
  play 3 600 425 0
  pause 4 1000

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -7
  pause 2 4000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 200 425 -7
  pause 2 200

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 250 425 -7
  pause 2 250

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 250 425 -7
  pause 2 250
        </result>
        <result name="ToneSet_JP">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 400 -6
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 400 -13
  pause 2 2000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 400 -7
  pause 2 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 500 400 -7
  pause 2 500

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 500 400 -7
  pause 2 500
		</result>
<result name="ToneSet_MX">profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 200 425 -12
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -12 
  pause 2 4000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 250 425 -12
  pause 2 250

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 250 425 -12
  pause 2 250</result>
  <result name="ToneSet_NZ">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 5000 400 -15
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  pause 2 200
  play 3 400 400 -15 450 -15
  pause 4 2000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 400 -15
  pause 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 500 400 -15
  pause 500

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 500 400 -15
  pause 500

profile call-progress-tone defaultSDTone
  flush-play-list
  play 1 10000 425 -19 620 -19

profile call-progress-tone defaultWaitingtone
  flush-play-list
  play 1 200 400 -15
  pause 200
  </result>
        <result name="ToneSet_NO">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 -6
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -13
  pause 2 4000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 425 -7
  pause 2 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 200 425 -7
  pause 2 200

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 200 425 -7
  pause 2 200
		</result>
        <result name="ToneSet_PL">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 -6
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -13
  pause 2 4000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 425 -7
  pause 2 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 500 425 -7
  pause 2 500

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 500 425 -7
  pause 2 500
		</result>
        <result name="ToneSet_PT">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 -6
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -13
  pause 2 5000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 425 -7
  pause 2 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 200 425 -7
  pause 2 200

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 200 425 -7
  pause 2 200
		</result>
        <result name="ToneSet_RU">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 -6
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 800 425 -13
  pause 2 3200

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 400 425 -7
  pause 2 400

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 400 425 -7
  pause 2 400

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 400 425 -7
  pause 2 400
		</result>
        <result name="ToneSet_ZA">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 0 400 -13

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 400 400 -13
  pause 2 200
  play 3 400 400 -13
  pause 4 2000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 400 -13
  pause 2 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 250 400 -13
  pause 2 250

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 250 400 -13
  pause 2 250

profile call-progress-tone defaultHoldtone
  flush-play-list
  play 1 30 400 -13
  pause 2 60
  play 3 30 400 -13
  pause 4 4880
		</result>
        <result name="ToneSet_ES">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 -6
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1500 425 -13
  pause 2 3000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 200 425 -7
  pause 2 200

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 200 425 -7
  pause 2 200
  play 3 200 425 -7
  pause 4 200
  play 5 200 425 -7
  pause 6 600

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 200 425 -7
  pause 2 200
  play 3 200 425 -7
  pause 4 200
  play 5 200 425 -7
  pause 6 600
		</result>
        <result name="ToneSet_SE">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 -6
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -13
  pause 2 5000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 250 425 -7
  pause 2 250
  
profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 250 425 -7
  pause 2 750

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 250 425 -7
  pause 2 750
		</result>
        <result name="ToneSet_CH">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 425 0

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 425 -7
  pause 2 4000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 425 -7
  pause 2 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 250 425 -7
  pause 2 250

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 250 425 -7
  pause 2 250
        </result>
        <result name="ToneSet_TR">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 450 -6
  
profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 2000 450 -13
  pause 2 4000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 450 -7
  pause 2 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 200 450 -7
  pause 2 200
  play 3 200 450 -7
  pause 4 200
  play 5 200 450 -7
  pause 6 200
  play 7 600 450 -7
  pause 8 200

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 200 450 -7
  pause 2 200
  play 3 200 450 -7
  pause 4 200
  play 5 200 450 -7
  pause 6 200
  play 7 600 450 -7
  pause 8 200
		</result>
        <result name="ToneSet_UK">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 350 -13 440 -13

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 400 400 -19 450 -19
  pause 2 200
  play 3 400 400 -19 450 -19
  pause 4 2000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 375 400 -24
  pause 2 375

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 400 400 -24
  pause 2 350
  play 3 225 400 -24
  pause 4 525

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 400 400 -24
  pause 2 350
  play 3 225 400 -24
  pause 4 525
        </result>
        <result name="ToneSet_US">
profile call-progress-tone defaultDialtone
  flush-play-list
  play 1 1000 350 -13 440 -13

profile call-progress-tone defaultAlertingtone
  flush-play-list
  play 1 1000 440 -19 480 -19
  pause 2 3000

profile call-progress-tone defaultBusytone
  flush-play-list
  play 1 500 480 -24 620 -24
  pause 2 500

profile call-progress-tone defaultReleasetone
  flush-play-list
  play 1 250 480 -24 620 -24
  pause 2 250

profile call-progress-tone defaultCongestiontone
  flush-play-list
  play 1 250 480 -24 620 -24
  pause 2 250
        </result>

		    <result name="ToneSet_AR" index="2">use profile fxo etsi</result>
        <result name="ToneSet_AU" index="2">use profile fxo au</result>
        <result name="ToneSet_AT420" index="2">use profile fxo etsi</result>
        <result name="ToneSet_AT450" index="2">use profile fxo etsi</result>
        <result name="ToneSet_BE" index="2">use profile fxo etsi</result>
        <result name="ToneSet_BR" index="2">use profile fxo etsi</result>
        <result name="ToneSet_CY" index="2">use profile fxo etsi</result>
        <result name="ToneSet_CZ" index="2">use profile fxo etsi</result>
        <result name="ToneSet_DK" index="2">use profile fxo etsi</result>
        <result name="ToneSet_FI" index="2">use profile fxo etsi</result>
        <result name="ToneSet_FR" index="2">use profile fxo etsi</result>
        <result name="ToneSet_DE" index="2">use profile fxo etsi</result>
		    <result name="ToneSet_GR" index="2">use profile fxo etsi</result>
        <result name="ToneSet_NL" index="2">use profile fxo nl</result>
        <result name="ToneSet_IN" index="2">use profile fxo etsi</result>
		    <result name="ToneSet_IE" index="2">use profile fxo etsi</result>
        <result name="ToneSet_IT" index="2">use profile fxo etsi</result>
        <result name="ToneSet_JP" index="2">use profile fxo etsi</result>
        <result name="ToneSet_MX" index="2">use profile fxo mx</result>
	    	<result name="ToneSet_NZ" index="2">use profile fxo etsi</result>
        <result name="ToneSet_NO" index="2">use profile fxo etsi</result>
        <result name="ToneSet_PL" index="2">use profile fxo etsi</result>
        <result name="ToneSet_PT" index="2">use profile fxo etsi</result>
        <result name="ToneSet_RU" index="2">use profile fxo etsi</result>
        <result name="ToneSet_ZA" index="2">use profile fxo za</result>
        <result name="ToneSet_ES" index="2">use profile fxo etsi</result>
        <result name="ToneSet_SE" index="2">use profile fxo etsi</result>
        <result name="ToneSet_CH" index="2">use profile fxo ch</result>
        <result name="ToneSet_TR" index="2">use profile fxo etsi</result>
        <result name="ToneSet_UK" index="2">use profile fxo gb</result>
        <result name="ToneSet_US" index="2">use profile fxo us</result>

		    <result name="ToneSet_AR" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_AU" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_AT420" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_AT450" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_BE" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_BR" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_CY" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_CZ" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_DK" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_FI" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_FR" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_DE" index="3">loop-break-duration min 60 max 1000</result>
		<result name="ToneSet_GR" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_NL" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_IN" index="3">loop-break-duration min 60 max 1000</result>
		<result name="ToneSet_IE" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_IT" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_JP" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_MX" index="3">loop-break-duration min 60 max 1000</result>
		<result name="ToneSet_NZ" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_NO" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_PL" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_PT" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_RU" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_ZA" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_ES" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_SE" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_CH" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_TR" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_UK" index="3">loop-break-duration min 60 max 1000</result>
        <result name="ToneSet_US" index="3">loop-break-duration min 300 max 1200</result>
        
		<result name="ToneSet_AR" index="4">caller-id format etsi</result>
        <result name="ToneSet_AU" index="4">caller-id format etsi</result>
        <result name="ToneSet_AT420" index="4">caller-id format etsi</result>
        <result name="ToneSet_AT450" index="4">caller-id format etsi</result>
        <result name="ToneSet_BE" index="4">caller-id format etsi</result>
        <result name="ToneSet_BR" index="4">caller-id format etsi</result>
        <result name="ToneSet_CY" index="4">caller-id format etsi</result>
        <result name="ToneSet_CZ" index="4">caller-id format etsi</result>
        <result name="ToneSet_DK" index="4">caller-id format etsi</result>
        <result name="ToneSet_FI" index="4">caller-id format etsi</result>
        <result name="ToneSet_FR" index="4">caller-id format etsi</result>
        <result name="ToneSet_DE" index="4">caller-id format etsi</result>
		<result name="ToneSet_GR" index="4">caller-id format etsi</result>
        <result name="ToneSet_NL" index="4">caller-id format etsi</result>
        <result name="ToneSet_IN" index="4">caller-id format etsi</result>
		<result name="ToneSet_IE" index="4">caller-id format etsi</result>
        <result name="ToneSet_IT" index="4">caller-id format etsi</result>
        <result name="ToneSet_JP" index="4">caller-id format etsi</result>
        <result name="ToneSet_MX" index="4">caller-id format etsi</result>
		<result name="ToneSet_NZ" index="4">caller-id format etsi</result>
        <result name="ToneSet_NO" index="4">caller-id format etsi</result>
        <result name="ToneSet_PL" index="4">caller-id format etsi</result>
        <result name="ToneSet_PT" index="4">caller-id format etsi</result>
        <result name="ToneSet_RU" index="4">caller-id format etsi</result>
        <result name="ToneSet_ZA" index="4">caller-id format etsi</result>
        <result name="ToneSet_ES" index="4">caller-id format etsi</result>
        <result name="ToneSet_SE" index="4">caller-id format etsi</result>
        <result name="ToneSet_CH" index="4">caller-id format etsi</result>
        <result name="ToneSet_TR" index="4">caller-id format etsi</result>
        <result name="ToneSet_UK" index="4">caller-id format etsi</result>
        <result name="ToneSet_US" index="4">caller-id format bell</result>

      </variable>
      
	  
	  <variable name="%%port_number%%"> 
		<title>Ports</title>
		<info>Define the amount of FXO ports your Patton device has</info>
	    <option name="Ports:">
	     <value name="1">port_number_1</value>
	     <value name="2">port_number_2</value>
		 <value name="3">port_number_3</value>
	     <value name="4">port_number_4</value>
		 
		</option>
			
		<result name="port_number_1">
	
	context cs
		 no IF_FXO_1
		 no IF_FXO_2
		 no IF_FXO_3	
			
		 </result>
		<result name="port_number_2">
		
	context cs	
		 no IF_FXO_2
		 no IF_FXO_3
		 
	    </result>
		<result name="port_number_3">
	
	context cs	
		 no IF_FXO_3
		 
		  </result>
       	<result name="port_number_4">  
		
	     </result>
		<result name="port_number_1" index="2">
	   
	   port fxo 0 1
		shutdown
	   port fxo 0 2
		shutdown
	   port fxo 0 3
		shutdown		
		
		</result>
		
		<result name="port_number_2" index="2">
	
        port fxo 0 2
		shutdown
	   port fxo 0 3
		shutdown
			
		</result>
		
		<result name="port_number_3" index="2">
	
		 
	    port fxo 0 3
		shutdown
		
		</result>
		
		<result name="port_number_4" index="2">
		
		</result>
		
		<result name="port_number_1" index="3">
		
		route call 1 dest-interface IF_FXO_0
		
		</result>
		
		<result name="port_number_2" index="3">
		
		route call 1 dest-interface IF_FXO_0
		route call 2 dest-interface IF_FXO_1
		</result>
		
		<result name="port_number_3" index="3">
		
		route call 1 dest-interface IF_FXO_0
		route call 2 dest-interface IF_FXO_1
		route call 3 dest-interface IF_FXO_2
		</result>
		
		<result name="port_number_4" index="3">
		
		route call 1 dest-interface IF_FXO_0
		route call 2 dest-interface IF_FXO_1
		route call 3 dest-interface IF_FXO_2
		route call 4 dest-interface IF_FXO_3
		</result>
  
	  </variable>
	
	 
	
	  <variable name="%%outbound_delay%%">
        <title>Dial Delay</title>
        <info>Specify the time to wait on the line before dialing the outgoing call.</info>
        <option name="Outbound Dialing Delay">
          <value name="Wait For Dial Tone">delay_dt</value>
          <value name="Dial After 1 Second">delay_1</value>
          <value name="Dial After 2 Seconds">delay_2</value>
          <value name="Dial After 3 Seconds">delay_3</value>
          <value name="Dial After 4 Seconds">delay_4</value>
          <value name="Dial After 5 Seconds">delay_5</value>
        </option>
        <result name="delay_dt">dial-after dialtone  </result>
        <result name="delay_1">dial-after timeout 1  </result>
        <result name="delay_2">dial-after timeout 2  </result>
        <result name="delay_3">dial-after timeout 3  </result>
        <result name="delay_4">dial-after timeout 4  </result>
        <result name="delay_5">dial-after timeout 5  </result>
      </variable>

	  
	    <variable name="%%hunt_mode%%">
        <title>Hunting Mode</title>
        <info>Select whether the hunting of the ports should be Normal (Always starts from the first interface) or Cyclic (Round-Robin)</info>
        <option name="Mode">
          <value name="Normal">hunt_normal</value>
          <value name="Cyclic">hunt_cyclic</value>
        </option>
        <result name="hunt_normal"> 
		
        </result>
        <result name="hunt_cyclic">
		cyclic
        </result>
      </variable>


	    <!-- Friendly Name -->
      <field name="Name">Patton 1 to 4 Port FXO</field>
	  
	    <!-- Hostnames and Port Numbers -->
	    <field name="RegistrarHost"></field>
	    <field name="RegistrarPort">5060</field>
	    <field name="NumberOfLines" status="readonly">1</field>
	    <field name="TypeOfLines" status="readonly">Analog</field>
		<field name="SimCallsPerPort" status="readonly">1</field>
	  
	    <!-- Registration Settings -->
	    <field name="RequireAuthFor" status="readonly">4</field>
      <field name="UseContactField" status="readonly">0</field>
	  
	    <!-- Gateway Capabilities -->
      <field name="IsSupportReinvite" status="readonly">1</field>
      <field name="IsSupportReplaces" status="readonly">1</field>
	 
	    <!-- Location of Destination Number -->
      <field name="DestNumberIn_TO" status="readonly">1</field>  
      <field name="DestNumberIn_REQLINEURI" status="readonly">1</field> 
      <field name="DestNumberIn_RPID_CALLED" status="readonly">0</field>
	 
	    <!-- Other Options -->
      <field name="IsInternal" status="readonly">1</field> 
      <field name="IsBindToMS" status="readonly">0</field> 
      <field name="UseIPInContactSrc" status="readonly">0</field>
      <field name="UseIPInContactSrcValue" status="readonly"></field>
      <field name="CallerIDIn" status="readonly">1</field> 
      <field name="CalledNumberIn" status="readonly">2</field>
     
      <!--Source Identification - Use Default PBX Internal Source Identification-->
      <!--<field status="readonly" name="MatchStrategy">1</field>-->
      <!--<field status="readonly" name="Source" parameter="" custom=""></field>-->
      <!--<field status="readonly" name="Source" parameter="" custom=""></field>-->
      <!--<field status="readonly" name="Source" parameter="" custom=""></field>-->
      
      <!-- Gateway / Provider Inbound Parameters -->
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="RequestLineURIUser"></field>-->
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="RequestLineURIHost"></field>-->
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="ContactUser"></field>-->
      <field status="readonly" name="ParameterIn" custom="" parameter="ContactHost">$DevHostPort</field>
      <field status="readonly" name="ParameterIn" custom="" parameter="ToDisplayName">$CalledName</field>
      <field status="readonly" name="ParameterIn" custom="" parameter="ToUserPart">$CalledNum</field>
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="ToHostPart"></field>-->
      <field status="readonly" name="ParameterIn" custom="" parameter="FromDisplayName">$CallerName</field>
      <field status="readonly" name="ParameterIn" custom="" parameter="FromUserPart">$CallerNum</field>
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="FromHostPart"></field>-->
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="UserAgentTextString"></field>-->
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="RemotePartyIDCalledPartyDisplayName"></field>-->
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="RemotePartyIDCalledPartyUserPart"></field>-->
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="RemotePartyIDCalledPartyHostPart"></field>-->
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="RemotePartyIDCallingPartyDisplayName"></field>-->
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="RemotePartyIDCallingPartyUserPart"></field>-->
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="RemotePartyIDCallingPartyHostPart"></field>-->
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="ProxyAuthID"></field>-->
      <!--<field status="readonly" name="ParameterIn" custom="" parameter="ProxyAuthRealm"></field>-->

      <!-- Gateway / Provider Outbound Parameters -->
      <field status="readonly" name="ParameterOut" custom="" parameter="RequestLineURIUser">$CalledNum</field>
      <field status="readonly" name="ParameterOut" custom="" parameter="RequestLineURIHost">$DevHostPort</field>
      <field status="readonly" name="ParameterOut" custom="" parameter="ContactUser">$AuthID</field>
      <field status="readonly" name="ParameterOut" custom="" parameter="ContactHost">$ContactURI</field>
      <field status="readonly" name="ParameterOut" custom="" parameter="ToDisplayName">$CalledName</field>
      <field status="readonly" name="ParameterOut" custom="" parameter="ToUserPart">$CalledNum</field>
      <field status="readonly" name="ParameterOut" custom="" parameter="ToHostPart">$DevHostPort</field>
      <field status="readonly" name="ParameterOut" custom="" parameter="FromDisplayName">$CallerName</field>
      <field status="readonly" name="ParameterOut" custom="" parameter="FromUserPart">$OutboundCallerId</field>
      <field status="readonly" name="ParameterOut" custom="" parameter="FromHostPart">$ContactURI</field>
      <!--<field status="readonly" name="ParameterOut" custom="" parameter="UserAgentTextString"></field>-->
      <!--<field status="readonly" name="ParameterOut" custom="" parameter="RemotePartyIDCalledPartyDisplayName"></field>-->
      <!--<field status="readonly" name="ParameterOut" custom="" parameter="RemotePartyIDCalledPartyUserPart"></field>-->
      <!--<field status="readonly" name="ParameterOut" custom="" parameter="RemotePartyIDCalledPartyHostPart"></field>-->
      <!--<field status="readonly" name="ParameterOut" custom="" parameter="RemotePartyIDCallingPartyDisplayName"></field>-->
      <!--<field sttatus="readonly" name="ParameterOut" custom="" parameter="RemotePartyIDCallingPartyUserPart"></field>-->
      <!--<field status="readonly" name="ParameterOut" custom="" parameter="RemotePartyIDCallingPartyHostPart"></field>-->

   <deviceconfig>
<![CDATA[
#########################################################
#
# For Patton 2 to 8 FXO
# Supported firmware versions R6.x
#
# Author: Tommaso Missoni
# Contact: support@patton.com
#
#########################################################

webserver port 80 language en

system

  ic voice 0
    low-bitrate-codec g729
	
sntp-client

sntp-client server primary %%param::time_ntp_server%%

profile ppp default

%%tone_set_data%%

profile tone-set default

profile voip default
  codec 1 g711ulaw64k rx-length 20 tx-length 20 silence-suppression
  codec 2 g711alaw64k rx-length 20 tx-length 20 silence-suppression
  codec 3 g729 rx-length 20 tx-length 20 silence-suppression
  fax transmission 1 relay t38-udp

profile pstn default
  echo-canceler-hybrid-loss 0
  echo-canceler-nlp silence

profile sip default
  
profile aaa default
  method 1 local
  method 2 none

context ip router

  interface IF_IP_WAN
    ipaddress dhcp
    tcp adjust-mss rx mtu
    tcp adjust-mss tx mtu

  interface IF_IP_LAN
    ipaddress %%gateway_ip%% %%gateway_mask%%
    tcp adjust-mss rx mtu
    tcp adjust-mss tx mtu

context cs switch
 
  
 routing-table called-e164 RT_SIP_TO_FXO
    route .% dest-service HG_TO_FXO
	
  routing-table called-e164 RT_FXO_00_TO_SIP	
    route default dest-interface IF_SIP	MT_CALL_ID_00
	
  routing-table called-e164 RT_FXO_01_TO_SIP	
    route default dest-interface IF_SIP MT_CALL_ID_01
	
  routing-table called-e164 RT_FXO_02_TO_SIP	
    route default dest-interface IF_SIP MT_CALL_ID_02
	
  routing-table called-e164 RT_FXO_03_TO_SIP	
    route default dest-interface IF_SIP MT_CALL_ID_03
	
 mapping-table called-e164 to called-e164 MT_CALL_ID_00
    map .% to 000000

  mapping-table called-e164 to called-e164 MT_CALL_ID_01
    map .% to 000001

  mapping-table called-e164 to called-e164 MT_CALL_ID_02
    map .% to 000002

  mapping-table called-e164 to called-e164 MT_CALL_ID_03
    map .% to 000003

     
 service hunt-group HG_TO_FXO	
    %%hunt_mode%% 
	drop-cause destination-out-of-order
	drop-cause user-busy
	drop-cause normal-unspecified
    drop-cause no-circuit-channel-available
    drop-cause network-out-of-order
    drop-cause temporary-failure
    drop-cause switching-equipment-congestion
    drop-cause access-info-discarded
    drop-cause circuit-channel-not-available
    drop-cause resources-unavailable	
	%%port_number[3]%%
  
  interface sip IF_SIP
    bind context sip-gateway GW_SIP
    early-disconnect
    route call dest-table RT_SIP_TO_FXO
	remote %%param::defaultlocalip%% %%param::sipport%%
	trust remote
    address-translation outgoing-call request-uri user-part fix %%line_int_num_0%% host-part to-header target-param none
    address-translation incoming-call called-e164 request-uri

  interface fxo IF_FXO_0
    route call dest-table RT_FXO_00_TO_SIP
    %%tone_set_data[3]%%
    %%tone_set_data[4]%%
    ring-number on-caller-id
    mute-dialing
    disconnect-signal loop-break
    disconnect-signal busy-tone
    %%outbound_delay%%
	
  interface fxo IF_FXO_1
    route call dest-table RT_FXO_01_TO_SIP
    %%tone_set_data[3]%%
    %%tone_set_data[4]%%
    ring-number on-caller-id
    mute-dialing
    disconnect-signal loop-break
    disconnect-signal busy-tone
    %%outbound_delay%%
	
	
  interface fxo IF_FXO_2
    route call dest-table RT_FXO_02_TO_SIP
    %%tone_set_data[3]%%
    %%tone_set_data[4]%%
    ring-number on-caller-id
    mute-dialing
    disconnect-signal loop-break
    disconnect-signal busy-tone
    %%outbound_delay%%
  
  interface fxo IF_FXO_3
route call dest-table RT_FXO_03_TO_SIP
    %%tone_set_data[3]%%
    %%tone_set_data[4]%%
    ring-number on-caller-id
    mute-dialing
    disconnect-signal loop-break
    disconnect-signal busy-tone
    %%outbound_delay%%

context cs switch
  no shutdown

authentication-service AS_ALL_LINES
  realm 1 3CXPhoneSystem
  username %%line_auth_id_0%% password %%line_auth_pw_0%%

location-service LS_%%line_int_num_0%%
  domain 1 %%param::defaultlocalip%%
  
  identity-group default
    authentication outbound
      authenticate 1 authentication-service AS_ALL_LINES username %%line_auth_id_0%%
  
  identity %%line_int_num_0%%
    authentication outbound
      authenticate 1 authentication-service AS_ALL_LINES

    registration outbound
      registrar %%param::defaultlocalip%% %%param::sipport%%
      lifetime 300
      register auto

      register auto
	  
context sip-gateway GW_SIP

  interface LAN
    bind interface IF_IP_LAN context router port 5060

context sip-gateway GW_SIP
  bind location-service LS_%%line_int_num_0%%
  no shutdown
  
port ethernet 0 0
  medium auto
  encapsulation ip
  bind interface IF_IP_LAN router
  no shutdown
  
 port ethernet 0 1
  medium auto
  encapsulation ip
  bind interface IF_IP_WAN router
  no shutdown

port fxo 0 0
  %%tone_set_data[2]%%
  encapsulation cc-fxo
  bind interface IF_FXO_0 switch
  no shutdown

port fxo 0 1
  %%tone_set_data[2]%%
  encapsulation cc-fxo
  bind interface IF_FXO_1 switch
  no shutdown
  
port fxo 0 2
  %%tone_set_data[2]%%
  encapsulation cc-fxo
  bind interface IF_FXO_2 switch
  no shutdown

port fxo 0 3
  %%tone_set_data[2]%%
  encapsulation cc-fxo
  bind interface IF_FXO_3 switch
  no shutdown
  
  %%port_number%%
  %%port_number[2]%%

]]>
   </deviceconfig>

   </device>
</data>   
</doc>
